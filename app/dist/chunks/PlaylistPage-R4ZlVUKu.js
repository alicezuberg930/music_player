import{j as s}from"./radix-ui-chunk-CKI-Y2yK.js";import{f as a,a as e,k as t,N as i}from"./react-chunk-lWhfHSeX.js";import{a0 as l,a as r,a1 as n,u as c,a2 as d,a3 as m,e as o,a4 as h,b as x,T as u,a5 as p,a6 as j,a7 as f,a8 as g,a9 as y,s as N}from"../entries/index-BClFpe3W.js";import{m as k}from"./mix-chunk-CKIEerH-.js";import"./i18next-chunk-BHxx249G.js";import"./redux-chunk-DUkfmT9l.js";function v(s,a){const e=a;return s?l(new Date(s),e):""}const b=()=>{const{id:l}=a(),b=r(),w=n(),{currentSong:C,isPlaying:S,currentPlaylistSongs:P}=c(s=>s.music),[z,M]=e.useState(null),[$,D]=e.useState(!1),L=t();return d({title:`Playlist - ${z?.title??"Yukikaze Music Player"}`,description:z?.description??"Nghe danh sách phát của bạn trên Yukikaze Music Player.",image:z?.thumbnail??`${m()}/web-app-manifest-512x512.png`,url:`${m()}/playlist/${l}`}),e.useEffect(()=>{(async()=>{try{const s=await g(l);s.statusCode&&200===s.statusCode&&(M(s.data),L.state?.playAlbum&&(b(y(s.data.songs)),b(N(s.data.songs[0])),b(x(!0)),globalThis.history.replaceState({},document.title)))}catch(s){}})()},[]),e.useEffect(()=>{C&&D(P.some(s=>s.id===C.id))},[C]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:z&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full md:w-1/4 h-fit space-y-3 relative md:sticky md:top-20 self-start shrink-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(o.LazyLoadImage,{src:z.thumbnail,alt:"thumbnail",effect:"blur",className:"w-full aspect-square rounded-lg",wrapperClassName:"w-full"}),s.jsx("div",{className:($&&S?"rounded-full":"rounded-md")+" text-white absolute top-0 left-0 bottom-0 right-0 flex items-center justify-center",children:s.jsx("span",{onClick:()=>b(x(!S)),children:$&&S?s.jsx(h,{color:"white",width:48,height:48}):s.jsx(k,{size:48})})})]}),s.jsx(u,{className:"text-center",variant:"h5",children:z.title}),s.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-500 text-xs",children:[s.jsxs("span",{children:["Cập nhật: ",v(z.updatedAt,"dd-MM-yyyy")]}),s.jsx(i,{to:"artist",className:"text-center",children:z.artistNames}),s.jsxs("span",{children:[p(z.likes)," người yêu thích"]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Lời tựa: "}),s.jsx("span",{children:z.description})]}),s.jsx(j,{songs:z.songs,playlistTitle:z.title,totalDuration:z.totalDuration})]})]})}),s.jsxs("div",{className:"mt-12",children:[s.jsx(u,{variant:"h5",className:"mb-4",children:"Các họa sĩ trong danh sách"}),s.jsx("div",{className:"flex -mx-2",children:z?.artists?.slice(0,w?2:5).map(a=>s.jsx(f,{visibleSlides:w?2:5,artist:a},a?.id))})]})]})};export{b as default};
